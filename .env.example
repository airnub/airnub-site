# Copy this file to `.env.local` and update the values for your Supabase project.
# Each Next.js app in this monorepo should share the same keys for a given environment.

# --- Supabase local defaults --------------------------------------------------
# These settings match the local stack defined in `supabase/config.toml`. After
# you run `supabase start`, run `pnpm db:env:local` to pull the latest values from
# `supabase status` into `.env.local`, `apps/airnub/.env.local`, and
# `apps/speckit/.env.local` without overwriting any custom variables. The
# Codespaces devcontainer runs this command automatically after boot.
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_GRAPHQL_URL=http://127.0.0.1:54321/graphql/v1
NEXT_PUBLIC_SUPABASE_ANON_KEY=replace-with-local-anon-key
SUPABASE_SERVICE_ROLE_KEY=replace-with-local-service-role-key
SUPABASE_DB_URL_LOCAL=postgresql://postgres:postgres@127.0.0.1:54322/postgres
SUPABASE_DB_PASSWORD_LOCAL=postgres
SUPABASE_STUDIO_URL=http://127.0.0.1:54323
SUPABASE_MAILPIT_URL=http://127.0.0.1:54324
SUPABASE_STORAGE_URL=http://127.0.0.1:54321/storage/v1/s3
SUPABASE_S3_ACCESS_KEY=replace-with-local-storage-access-key
SUPABASE_S3_SECRET_KEY=replace-with-local-storage-secret-key
SUPABASE_S3_REGION=local

# --- Supabase CLI / Remote project configuration ------------------------------
# Required when running commands like `supabase link`, `supabase db push`, etc.
SUPABASE_ACCESS_TOKEN=
SUPABASE_STAGING_REF=
SUPABASE_PROD_REF=
SUPABASE_DB_PASSWORD_STAGING=
SUPABASE_DB_PASSWORD_PROD=

# --- Next.js runtime toggles & diagnostics -----------------------------------
# These variables control framework-level behavior shared across both apps.
# NEXT_TELEMETRY_DISABLED=1          # opt out of anonymous usage telemetry
# NEXT_TELEMETRY_DEBUG=1             # print telemetry payloads locally
# NEXT_TRACE_UPLOAD_DISABLE=1        # skip uploading performance traces
# NEXT_TRACE_UPLOAD_DEBUG=1          # log trace upload debugging info
# NEXT_TRACE_UPLOAD_FULL=1           # force full trace uploads when debugging
# NEXT_TRACE_SPAN_THRESHOLD_MS=0     # minimum duration before a trace span logs
# NEXT_OTEL_FETCH_DISABLE=1          # disable OpenTelemetry fetch instrumentation
# NEXT_MANUAL_SIG_HANDLE=1           # allow custom signal handlers to run in dev
# NEXT_DISABLE_MEM_OVERRIDE=1        # skip automatic "--max-old-space-size" tweaks
# __NEXT_DISABLE_MEMORY_WATCHER=1    # opt out of the dev server auto-restart loop
# NEXT_DISABLE_SWC_WASM=1            # prevent falling back to the WASM SWC build
# NEXT_PRIVATE_LOCAL_DEV=1           # force features that normally require prod
# NEXT_TEST_MODE=1                   # enable Next.js experimental test mode
# NEXT_RUNTIME=nodejs                # override the default runtime ("nodejs"|"edge")
# NEXT_HTTP_AGENT_OPTIONS={}         # JSON string of fetch agent options for Node
# NEXT_UNDICI_AGENT_SET=1            # mark that a custom undici agent has been set

# Optional: tweak the internal link checker script behaviour when running `pnpm check:links`
# LINK_CHECK_IGNORE_HOSTS=
# LINK_CHECK_TIMEOUT=10000
# LINK_CHECK_CONCURRENCY=8

# --- Microsite origin overrides (optional) -----------------------------------
# Uncomment to route Airnub microsite links to local dev servers instead of the
# production domains. Each override should point to the base URL hosting the
# corresponding microsite when developing locally.
# NEXT_PUBLIC_AIRNUB_ADF_ORIGIN=http://localhost:3001
# NEXT_PUBLIC_AIRNUB_SPECKIT_ORIGIN=http://localhost:3002
